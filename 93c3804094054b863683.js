/*! For license information please see 93c3804094054b863683.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{357:function(e,t,n){"use strict";n.r(t);n(5),n(167);var o=n(1),s=n(32),c=n.n(s),r=n(293);t.default=(e={},t="search-engine")=>{const n=document.getElementById(t);if(n){const s=document.getElementById("".concat(t,"-dock")),a=window.storefront&&window.storefront.getScopedSlots,i=new URLSearchParams(window.location.search),d={...e.props,term:i.get("term"),page:parseInt(i.get("page"),10)||1,brands:i.getAll("brands[]"),categories:i.getAll("categories[]")};["brands","categories"].forEach(e=>{if(n.dataset[e]){try{d[e]=JSON.parse(n.dataset[e])}catch(e){return void console.error(e)}d[e]&&d[e].length<2&&(d["isFixed".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))]=!0),d.defaultSort="sales",d.hasPopularItems=!1}});const{resource:l}=window.document.body.dataset;switch(l){case"brands":case"categories":if(!d[l]||!d[l].length)return void console.error(new Error("Skipping SearchEngine with empty '".concat(l,"' filter")))}const u=new c.a({data:{countRequests:0,canShowItems:!s,term:d.term},render(e){const c=this,i={"update:term"(e){c.term=e}};return s&&(i.fetch=function({fetching:e}){e.then(()=>{c.countRequests++,c.countRequests>1&&!c.canShowItems&&(c.canShowItems=!0,Object(o.$)("#search-engine-snap").remove())})}),e(r.a,{attrs:{id:s?null:t},props:{...d,term:c.term,canShowItems:c.canShowItems,loadMoreSelector:s?"#search-engine-load":null},on:i,scopedSlots:"function"==typeof a?a(n,e,!s):void 0})}});if(s){Object(o.$)(n).append(Object(o.$)("<div>",{id:"search-engine-load"}));const e=()=>u.$mount(s),t=Object(o.$)("#search-engine-snap .product-item");if(t.length){const n=new window.MutationObserver(()=>{clearTimeout(o),n.disconnect(),setTimeout(e,150)});n.observe(t[0],{childList:!0});const o=setTimeout(()=>{n.disconnect(),e()},3e3)}else e()}else u.$mount(n)}}}}]);
//# sourceMappingURL=93c3804094054b863683.js.map